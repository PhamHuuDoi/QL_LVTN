extends ../../layouts/default.pug

block main
  h3.text-primary NHẬP ĐIỂM HƯỚNG DẪN

  form(method="POST", action="/giangvien/diemhuongdan/save")
    // hidden ids
    input(type="hidden", name="sv_id", value=sv._id)
    input(type="hidden", name="detai_id", value=detai._id)

    .form-group
      label Sinh viên
      input.form-control(
        type="text",
        readonly,
        value=`${sv.ten} (${sv.msvv}) - Lớp ${sv.lop}`
      )

    .form-group
      label Đề tài
      input.form-control(
        type="text",
        readonly,
        value=detai.ten
      )

    hr
    h5 Điểm từng tiêu chí (0 - 2.5)

    .row
      .col-md-6
        .form-group
          label Phân tích vấn đề
          input.form-control(
            type="number",
            step="0.1",
            min="0",
            max="2.5",
            name="phanTichVanDe",
            value=(dhd && dhd.phanTichVanDe != null ? dhd.phanTichVanDe : 0)
          )
      .col-md-6
        .form-group
          label Thiết kế vấn đề
          input.form-control(
            type="number",
            step="0.1",
            min="0",
            max="2.5",
            name="thietKeVanDe",
            value=(dhd && dhd.thietKeVanDe != null ? dhd.thietKeVanDe : 0)
          )

    .row
      .col-md-6
        .form-group
          label Hiện thực vấn đề
          input.form-control(
            type="number",
            step="0.1",
            min="0",
            max="2.5",
            name="hienThucVanDe",
            value=(dhd && dhd.hienThucVanDe != null ? dhd.hienThucVanDe : 0)
          )
      .col-md-6
        .form-group
          label Kiểm tra sản phẩm
          input.form-control(
            type="number",
            step="0.1",
            min="0",
            max="2.5",
            name="kiemTraSanPham",
            value=(dhd && dhd.kiemTraSanPham != null ? dhd.kiemTraSanPham : 0)
          )

    hr
    h5 Nhận xét

    .form-group
      label Nhận xét chung
      select.form-control(name="nhanXetChung")
        option(value="Đạt", selected=(dhd && dhd.nhanXetChung === "Đạt")) Đạt
        option(value="Không đạt", selected=(dhd && dhd.nhanXetChung === "Không đạt")) Không đạt

    .form-group
      label Yêu cầu điều chỉnh (nếu có)
      textarea.form-control(name="yeuCauDieuChinh", rows="2")
        | #{dhd && dhd.yeuCauDieuChinh ? dhd.yeuCauDieuChinh : ""}

    .form-group
      label Ưu điểm
      textarea.form-control(name="uuDiem", rows="2")
        | #{dhd && dhd.uuDiem ? dhd.uuDiem : ""}

    .form-group
      label Thiếu sót
      textarea.form-control(name="thieuSot", rows="2")
        | #{dhd && dhd.thieuSot ? dhd.thieuSot : ""}

    .form-group
      label Câu hỏi cho hội đồng (mỗi dòng 1 câu)
      textarea.form-control(name="cauHoiHoiDong", rows="3")
        | #{dhd && dhd.cauHoiHoiDong ? dhd.cauHoiHoiDong.join("\n") : ""}

    .form-group
      label Điểm bằng chữ
      input.form-control(
        type="text",
        name="diemBangChu",
        value=(dhd && dhd.diemBangChu ? dhd.diemBangChu : "")
      )

    .form-group
      label Đề nghị của giảng viên hướng dẫn
      .form-check
        input.form-check-input(
          type="radio",
          name="deNghiGV",
          value="Được bảo vệ",
          checked=(!dhd || dhd.deNghiGV === "Được bảo vệ")
        )
        label.form-check-label Được bảo vệ
      .form-check
        input.form-check-input(
          type="radio",
          name="deNghiGV",
          value="Không được bảo vệ",
          checked=(dhd && dhd.deNghiGV === "Không được bảo vệ")
        )
        label.form-check-label Không được bảo vệ
      .form-check
        input.form-check-input(
          type="radio",
          name="deNghiGV",
          value="Bổ sung/hiệu chỉnh để được bảo vệ",
          checked=(dhd && dhd.deNghiGV === "Bổ sung/hiệu chỉnh để được bảo vệ")
        )
        label.form-check-label Bổ sung/hiệu chỉnh để được bảo vệ

    hr
    button.btn.btn-success(type="submit") Lưu điểm
    a.btn.btn-secondary(href="/giangvien/diemhuongdan") Quay lại
